<!DOCTYPE html>
<html lang="fr"
      data-th-replace="~{layout::layout(contenu=~{::main},titre=~{::title})}"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <title>S'inscrire</title>
</head>
<main>
    <div th:if="${errorCreationCompte}" class="alert alert-error alert-dismissible fade show" role="alert">
        <span th:text="${errorCreationCompte}"></span>
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    </div>
    <form class="form-container" data-th-action="@{/creer-compte}" data-th-object="${utilisateur}" method="post">
        <h1 class="form-container__title">Inscription</h1>
        
        <div class="form-group">
            <label for="username" class="form-group__label">Nom d'utilisateur :</label>
            <input type="text" id="username" data-th-field="*{pseudo}" required class="form-group__input">
        </div>

        <div class="form-group">
            <label for="inputMdp" class="form-group__label">Mot de passe :</label>
            <input type="password" id="inputMdp" data-th-field="*{mot_de_passe}" required class="form-group__input">
        </div>

        <p class="small" id="textMdp">Au moins un symbole, un chiffre, ainsi que 8 caractères minimum</p>
        <div class="forceMdp" id="forceMdp">
            <div class="hidden" id="faible">
                <div class="barreCouleur"></div>
                <span class="texteForceMdp">Faible</span>
            </div>
            <div class="hidden" id="moyen">
                <div class="barreCouleur"></div>
                <span class="texteForceMdp">Moyen</span>
            </div>
            <div class="hidden" id="fort">
                <div class="barreCouleur"></div>
                <span class="texteForceMdp">Fort</span>
            </div>
        </div>
        <div class="form-group">
            <label for="inputConfirmMdp" class="form-group__label">Confirmer mot de passe* :</label>
            <input class="form-group__input" type="password" id="inputConfirmMdp" name="confirmNewPassword" required />
        </div>
        <p class="small red hidden" id="textConfirmMdp">Les mots de passe ne sont pas identiques</p>

        <div class="form-group">
            <label for="nom" class="form-group__label">Nom :</label>
            <input type="text" id="nom" data-th-field="*{nom}" required class="form-group__input">
        </div>

        <div class="form-group">
            <label for="prenom" class="form-group__label">Prénom :</label>
            <input type="text" id="prenom" data-th-field="*{prenom}" required class="form-group__input">
        </div>

        <div class="form-group">
            <label for="inputEmail" class="form-group__label">Email :</label>
            <input type="email" id="inputEmail" data-th-field="*{email}" required class="form-group__input" pattern="[a-z0-9._%+\-]+@[a-z0-9.\-]+\.[a-z]{2,}$">
        </div>

        <div class="form-group">
            <label for="inputTelephone" class="form-group__label">Téléphone :</label>
            <input type="tel" id="inputTelephone" data-th-field="*{telephone}" class="form-group__input">
        </div>

        <div class="form-group address-group">
            <div class="form-group">
                <label for="inputAdresse" class="form-group__label">Adresse :</label>
                <input type="text" id="inputAdresse" data-th-field="*{adresse.rue}" required class="form-group__input">
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label for="inputCP" class="form-group__label">Code postal :</label>
                    <input type="text" id="inputCP" data-th-field="*{adresse.code_postal}" required class="form-group__input">
                </div>
                <div class="form-group">
                    <label for="inputVille" class="form-group__label">Ville :</label>
                    <input type="text" id="inputVille" data-th-field="*{adresse.ville}" required class="form-group__input">
                </div>
            </div>
        </div>

        <div class="form-buttons">
            <button type="submit" class="btn btn--primary">S'inscrire</button>
            <a href="/connexion" class="btn btn--secondary">Déjà inscrit ?</a>
        </div>
    </form>
</main>
</html>