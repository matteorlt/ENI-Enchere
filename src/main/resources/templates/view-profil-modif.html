<!DOCTYPE html>
<html lang="fr"
      data-th-replace="~{layout::layout(contenu=~{::main},titre=~{::title},cssSpecifique='profil')}"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Modifier mon profil</title>
</head>
<body>
<main>
    <div class="profil-container">
        <form class="form-container"
              method="post"
              data-th-object="${utilisateur}"
              th:action="@{/mon-profil/modifier(pseudo=${utilisateur.pseudo})}">
            
            <h1>Modifier mon profil</h1>

            <div class="form-group">
                <label>Pseudo :</label>
                <p class="form-control-plaintext" data-th-text="*{pseudo}"></p>
                <input type="hidden" data-th-field="*{pseudo}"/>
            </div>

            <div class="form-group">
                <label for="inputNom">Nom* :</label>
                <input type="text" class="form-control" id="inputNom" data-th-field="*{nom}" required/>
            </div>

            <div class="form-group">
                <label for="inputPrenom">Prénom* :</label>
                <input type="text" class="form-control" id="inputPrenom" data-th-field="*{prenom}" required/>
            </div>

            <div class="form-group">
                <label for="inputEmail">Email* :</label>
                <input type="email" class="form-control" id="inputEmail" data-th-field="*{email}" required/>
            </div>

            <div class="form-group">
                <label for="inputTelephone">Téléphone :</label>
                <input type="tel" class="form-control" id="inputTelephone" data-th-field="*{telephone}"/>
            </div>

            <div class="form-group address-group">
                <div>
                    <label for="inputAdresse">Adresse* :</label>
                    <input type="text" class="form-control" id="inputAdresse" 
                           th:field="*{adresse.rue}" 
                           th:value="${utilisateur.adresse?.rue ?: ''}" 
                           required/>
                </div>
                <div class="address-row">
                    <div>
                        <label for="inputCP">Code postal* :</label>
                        <input type="text" class="form-control" id="inputCP" 
                               th:field="*{adresse.code_postal}" 
                               th:value="${utilisateur.adresse?.code_postal ?: ''}" 
                               required/>
                    </div>
                    <div>
                        <label for="inputVille">Ville* :</label>
                        <input type="text" class="form-control" id="inputVille" 
                               th:field="*{adresse.ville}" 
                               th:value="${utilisateur.adresse?.ville ?: ''}" 
                               required/>
                    </div>
                </div>
            </div>

            <div class="button-group">
                <button type="submit" class="btn btn-primary">Enregistrer</button>
                <a th:href="@{/mon-profil(pseudo=${utilisateur.pseudo})}" class="btn btn-secondary">Annuler</a>
                <a th:href="@{/mon-profil/modifier-mot-de-passe(pseudo=${utilisateur.pseudo})}" class="btn btn-outline-primary">Modifier mot de passe</a>
            </div>

        </form>
    </div>
</main>

</body>
</html>